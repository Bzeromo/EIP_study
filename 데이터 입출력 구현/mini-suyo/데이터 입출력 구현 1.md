# 데이터 입출력 구현 1

## 1. 스키마 (Schema)

- 데이터베이스 구조와 제약조건에 대한 전반적인 정의.
- 데이터베이스의 논리적 구조를 나타내며, 크게 3가지로 분류됨.

  - **외부 스키마 (Subschema)**: 사용자 관점의 데이터베이스 구조.
  - **개념 스키마 (Conceptual Schema)**: 전체 조직 관점의 통합 데이터 구조.
  - **내부 스키마 (Internal Schema)**: 물리적 저장 구조를 정의.

## 2. 데이터베이스 설계 순서

1. **요구사항 분석**

   - 사용자 요구사항을 수집하여 설계의 기초자료로 활용.

2. **설계 준비**

   - 요구사항을 분석하여 설계 방법론, 툴, 스펙 등을 준비.

3. **개념적 설계**

   - 사용자 요구사항을 분석하여 **ERD(Entity-Relationship Diagram)** 등으로 개념적 모델을 생성.
   - 독립적, 추상적인 수준의 데이터 모델 설계.

4. **논리적 설계**

   - 개념적 모델을 관계형 데이터베이스에 맞게 변환.
   - 테이블 구조 설계 및 **정규화** 수행.

5. **물리적 설계**

   - 저장소에 효율적으로 저장되도록 테이블 구조, 인덱스, 파티션 등을 설계.
   - 성능, 보안, 저장 최적화 등을 고려함.

6. **구현 및 테스트**

   - DBMS에 적용 후 쿼리 테스트, 성능 테스트 등을 진행.

## 3. 데이터 모델

현실 세계의 정보를 컴퓨터에 표현하기 위한 개념적 모형

- **구조(Structure)**: 논리적으로 표현된 개체 타입 간의 관계와 데이터 구조
- **연산(Operation)**: 데이터 처리를 위한 연산자의 집합
- **제약조건(Constraint)**: 데이터의 무결성을 보장하는 논리적 제약

## 4. ER 다이어그램

| 기호      | 의미                               |
| --------- | ---------------------------------- |
| 사각형    | 개체형(Entity)                     |
| 마름모    | 관계형(Relationship)               |
| 타원형    | 속성(Attribute)                    |
| 이중 타원 | 다중값 속성(Multivalued Attribute) |
| 선        | 개체 타입과 속성을 연결            |

## 5. 관계형 데이터베이스의 릴레이션 구조

- 릴레이션(Relation): 데이터를 표 형태로 표현한 것
- 릴레이션 스키마: 구조 정의 (속성명, 데이터타입 등)
- 릴레이션 인스턴스: 실제 저장된 데이터 값

### 1. 속성(Attribute)

- 데이터를 구성하는 가장 작은 논리적 단위
- 하나의 엔티티가 가질 수 있는 데이터 항목
- **차수(Degree)**: 릴레이션에 포함된 속성의 수

### 2. 튜플(Tuple)

- 릴레이션의 한 행(Row)
- 하나의 레코드에 해당
- 속성들의 집합으로 구성
- **카디널리티(Cardinality)**: 릴레이션에 포함된 튜플의 수

### 3. 도메인(Domain)

- 하나의 속성이 가질 수 있는 데이터 값의 범위
- 예) 성별 속성의 도메인: 남, 여

## 6. 키의 종류

| 종류   | 설명                                       |
| ------ | ------------------------------------------ |
| 후보키 | 튜플을 유일하게 식별할 수 있는 속성의 집합 |
| 슈퍼키 | 후보키에 다른 속성이 포함된 확장형 키      |
| 기본키 | 후보키 중에서 선정한 대표 키               |
| 외래키 | 다른 릴레이션의 기본키를 참조하는 속성     |

## 7. 무결성

- **개체 무결성**: 기본키는 NULL이 될 수 없음
- **참조 무결성**: 외래키는 참조 릴레이션의 기본키 값을 가져야 함

## 8. 관계 대수 (Relational Algebra)

- 원하는 정보와 그 정보를 검색하기 위해서 어떻게 유도하는가를 기술하는 절차적인 언어

### 순수 관계 연산자

| 연산자       | 의미                                                                                         | 기호 |
| ------------ | -------------------------------------------------------------------------------------------- | ---- |
| **Select**   | 조건에 맞는 튜플(행)만 선택                                                                  | σ    |
| **Project**  | 속성(열)만 추출                                                                              | π    |
| **Join**     | 공통 속성을 기준으로 두 릴레이션 결합                                                        | ⋈    |
| **Division** | X⊃Y인 릴레이션 R(X)와 S(Y)가 있을 때, R의 튜플 중 S의 모든 튜플과 매칭되는 X − Y 속성만 추출 | ÷    |

### 일반 집합 연산자

| 연산자                         | 의미                                                     | 기호 |
| ------------------------------ | -------------------------------------------------------- | ---- |
| **합집합 (Union)**             | 두 릴레이션에 존재하는 튜플의 합집합을 구함              | ∪    |
| **교집합 (Intersection)**      | 두 릴레이션에 공통으로 존재하는 튜플 반환                | ∩    |
| **차집합 (Difference)**        | 첫 번째 릴레이션에서 두 번째 릴레이션에 있는 튜플을 제거 | −    |
| **교차곱 (Cartesian Product)** | 두 릴레이션의 모든 튜플 조합                             | ×    |

## 9. 관계 해석 (Relational Calculus)

- 관계 데이터의 연산을 표현하는 방법

## 10. 이상(Anomaly)

- 데이터들이 중복되어 발생하는 현상
- **삽입 이상**: 불필요한 데이터까지 입력해야 함
- **삭제 이상**: 필요한 데이터까지 함께 삭제됨
- **갱신 이상**: 하나만 수정하면 데이터 불일치 발생

## 11. 함수적 종속

| 유형                                                         | 의미                                          | 설명                                                  | 표기                      |
| ------------------------------------------------------------ | --------------------------------------------- | ----------------------------------------------------- | ------------------------- |
| **함수적 종속**<br>(Functional Dependency)                   | X의 값이 Y의 값을 유일하게 결정               | 릴레이션 R에서 X → Y일 때, X가 동일하면 Y도 항상 동일 | X → Y                     |
| **완전 함수적 종속**<br>(Full Functional Dependency)         | 전체 속성 집합 X가 Y를 유일 결정              | X의 **어떤 진부분 집합 Z**만으로는 Y를 결정할 수 없음 | X → Y, 단 Z ⊂ X이면 Z ↛ Y |
| **부분 함수적 종속**<br>(Partial Functional Dependency)      | 전체 속성 집합 X의 일부만으로도 Y를 유일 결정 | Y가 X의 진부분 집합 Z에만 의존                        | Z → Y, Z ⊂ X              |
| **이행적 함수적 종속**<br>(Transitive Functional Dependency) | 중간 속성을 통해 종속성 전이                  | X → Y, Y → Z일 때, X → Z 성립                         | X → Y → Z                 |

## 12. 정규화

| 정규형 | 특징                             |
| ------ | -------------------------------- |
| 1NF    | 도메인이 원자값                  |
| 2NF    | 부분 함수 종속 제거              |
| 3NF    | 이행적 함수 종속 제거            |
| BCNF   | 결정자가 후보키가 아닌 경우 제거 |
| 4NF    | 다치 종속 제거                   |
| 5NF    | 조인 종속 제거                   |

## 13. 반정규화

- 정규화로 인해 발생하는 성능 저하를 방지하기 위해 **의도적으로 중복을 허용**하는 작업

## 14. 시스템 카탈로그

- DBMS가 스스로 생성하고 유지하는 **시스템 데이터베이스**
- 메타데이터(데이터에 대한 데이터) 저장

## 15. 트랜잭션의 특성 (ACID)

| 항목                | 설명                                    |
| ------------------- | --------------------------------------- |
| 원자성(Atomicity)   | 모두 수행되거나 모두 수행되지 않아야 함 |
| 일관성(Consistency) | 일관된 상태 유지                        |
| 격리성(Isolation)   | 트랜잭션은 독립적으로 수행              |
| 지속성(Durability)  | 성공한 트랜잭션은 영구 반영됨           |

## 16. CRUD 분석

- 프로세스와 테이블 간에 CRUD 매트릭스를 만들어서 트랜잭션을 분석하는 것
- **Create**: 데이터 생성 (INSERT)
- **Read**: 데이터 조회 (SELECT)
- **Update**: 데이터 수정 (UPDATE)
- **Delete**: 데이터 삭제 (DELETE)

## 17. 인덱스 (Index)

- 검색 성능을 향상시키기 위한 **보조적인 자료구조** <키 값, 포인터> 쌍으로 구성되는 데이터 구조
